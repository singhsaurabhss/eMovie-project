@model Movie
@{
    ViewData["Title"] = "Buying Details";
}



<div class="col-lg-12  border-primary mb-4">
    <div class="card mb-8  mx-auto" style="max-width: 800px;">
        <div class="row g-0">
            <div class="col-md-12">
                <div class="card-header text-white bg-info">
                    <p class="card-text">
                        <h5 class="card-title">
                            @Model.Name
                        </h5>
                    </p>
                </div>
            </div>
            <div class="col-md-6">
                <img src="@Model.ImageURL" width="100%" alt="@Model.Name">
            </div>
            <div class="col-md-6">
                <div class="card-body" style="background-color: #BFFFF0">
                    <p class="card-text">@Model.Description</p>
                    <p class="card-text"><b>Cinema: </b>@Model.Cinema.Name</p>
                    <p class="card-text"><b>Category: </b>@Model.MovieCategory</p>
                    <div class="col-md-12">
                        <div class="card">
                                <p>
                                    Enter number of tickets:
                                    <input type="number" min="1" max="10" value="1" id="tickets" /><br />
                                    @*Total Amount = <label id="amount"></label>*@
                                   
                                </p>

                            <a class="btn btn-success text-white float-right" asp-controller="Orders" asp-action="OrderCompleted" asp-route-id="@Model.Price" id="amount-final" ><i class="bi bi-cart-plus"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



@section Scripts{
    <script>
        $(document).ready(function () {
            var output = document.getElementById('tickets').value;
            console.log("Value of output in ready -"+output);
            var input = document.getElementById('amount-final');
            input.innerText="Buy Now \n Price:"+(output*@Model.Price);
        })
        $("#tickets").on("change", function () {
            var output = document.getElementById('tickets').value;
            console.log("Value of output in on change -" +output);
            var input = document.getElementById('amount-final');
            input.innerText="Buy Now \n Price:"+(output*@Model.Price);
        })
    </script>
}